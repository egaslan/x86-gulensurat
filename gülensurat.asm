ORG  100H   
           
START:
MOV AH, 0   ; VIDEO MODU
MOV AL, 13H ; 256 RENK MODU
INT 10H     ; INTERRUPT 

MOV SI,160  ; X KOORDINATI
MOV DI,100  ; Y KOORDINATI
MOV BP,50   ; R


KAFA_DONGU:  
MOV SP,0 
MOV BX,1  
SUB BX,BP   
JMP X1


X1:
CMP BX,0  
JL ETIKET1
JMP ETIKET2


ETIKET1:           
ADD BX,1
MOV AX,2 
ADD SP,1
MUL SP
ADD BX,AX 
CMP SP,BP
JAE TAMAM

;1(X,Y)
MOV CX, SP 
ADD CX,SI  
MOV DX, BP
ADD DX,DI  
CALL PUTPIXEL
CALL GETPIXEL
 
;2(Y,X)
MOV CX, BP 
ADD CX,SI 
MOV DX, SP
ADD DX,DI
CALL PUTPIXEL
CALL GETPIXEL

;3  (-X,-Y)
MOV AX,-1
MUL SP
ADD AX,SI
MOV CX, AX
MOV AX,-1
MUL BP
ADD AX,DI
MOV DX,AX 
CALL PUTPIXEL
CALL GETPIXEL

;4  (-Y,-X)
MOV AX,-1
MUL BP
ADD AX,SI 
MOV CX, AX
MOV AX,-1
MUL SP
ADD AX,DI
MOV DX,AX
CALL PUTPIXEL
CALL GETPIXEL 

;5(X,-Y)
MOV CX, SP 
ADD CX,SI  
MOV AX,-1
MUL BP
ADD AX,DI
MOV DX,AX 
CALL PUTPIXEL
CALL GETPIXEL

;6(Y,-X)
MOV CX, BP 
ADD CX,SI  
MOV AX,-1
MUL SP
ADD AX,DI
MOV DX,AX  
CALL PUTPIXEL
CALL GETPIXEL

;7  (-Y,X)
MOV AX,-1
MUL BP
ADD AX,SI 
MOV CX, AX 
MOV DX, SP
ADD DX,DI  
CALL PUTPIXEL
CALL GETPIXEL

;8(-X,Y)
MOV AX,-1
MUL SP
ADD AX,SI 
MOV CX, AX 
MOV DX, BP
ADD DX,DI 
CALL PUTPIXEL
CALL GETPIXEL

JMP X1

ETIKET2: 
MOV AX,2
SUB BP,1
MUL BP
SUB BX,AX
MOV AX,2
ADD SP,1
MUL SP
ADD BX,AX
ADD BX,1 
CMP SP,BP
JAE TAMAM

;1(X,Y)
MOV CX, SP 
ADD CX,SI
MOV DX, BP
ADD DX,DI
CALL PUTPIXEL
CALL GETPIXEL
 
;2(Y,X)
MOV CX, BP 
ADD CX,SI 
MOV DX, SP
ADD DX,DI 
CALL PUTPIXEL
CALL GETPIXEL

;3  (-X,-Y)
MOV AX,-1
MUL SP
ADD AX,SI
MOV CX, AX
MOV AX,-1
MUL BP
ADD AX,DI
MOV DX,AX
CALL PUTPIXEL
CALL GETPIXEL

;4  (-Y,-X)
MOV AX,-1
MUL BP
ADD AX,SI 
MOV CX, AX 
MOV AX,-1
MUL SP
ADD AX,DI
MOV DX,AX 
CALL PUTPIXEL
CALL GETPIXEL 

;5(X,-Y)
MOV CX, SP 
ADD CX,SI 
MOV AX,-1
MUL BP
ADD AX,DI
MOV DX,AX 
CALL PUTPIXEL
CALL GETPIXEL

;6(Y,-X)
MOV CX, BP 
ADD CX,SI 
MOV AX,-1
MUL SP
ADD AX,DI
MOV DX,AX
CALL PUTPIXEL
CALL GETPIXEL

;7  (-Y,X)
MOV AX,-1
MUL BP
ADD AX,SI 
MOV CX, AX 
MOV DX, SP
ADD DX,DI 
CALL PUTPIXEL
CALL GETPIXEL

;8(-X,Y)
MOV AX,-1
MUL SP
ADD AX,SI 
MOV CX, AX 
MOV DX, BP
ADD DX,DI  
CALL PUTPIXEL
CALL GETPIXEL

JMP X1

TAMAM:
INC SAYAC
CMP SAYAC, 3
JE BURUN
MOV SI,X_COOR ;X KOORDINATI
MOV DI,Y_COOR ;Y KOORDINATI
MOV BP,7      ;R
ADD X_COOR, 40
JMP KAFA_DONGU
 
BURUN:
MOV X_COOR, 160
MOV Y_COOR, 95
LOOP_BURUN:
MOV AL, 15
MOV CX, X_COOR
MOV DX, Y_COOR
MOV AH, 0CH
INT 10H
INC Y_COOR
CMP Y_COOR, 110
JNE LOOP_BURUN
JMP AGIZ

AGIZ:
MOV SI,160 ;X KOORDINATI
MOV DI,100 ;Y KOORDINATI
MOV BP,30  ;R
 
MOV SP,0
MOV BX,1  
SUB BX,BP   
JMP XX1

XX1:

CMP BX,0   
JL ETIKET11
JMP ETIKET22

ETIKET11:        
ADD BX,1
MOV AX,2 
ADD SP,1
MUL SP
ADD BX,AX 

CMP SP,BP
JAE BITIR

;1(X,Y)
MOV CX, SP 
ADD CX,SI 
MOV DX, BP
ADD DX,DI 
CALL PUTPIXEL
CALL GETPIXEL


;8(-X,Y)
MOV AX,-1
MUL SP
ADD AX,SI 
MOV CX, AX 
MOV DX, BP
ADD DX,DI 
CALL PUTPIXEL
CALL GETPIXEL

JMP XX1

ETIKET22: 
MOV AX,2
SUB BP,1
MUL BP
SUB BX,AX

MOV AX,2
ADD SP,1
MUL SP
ADD BX,AX

ADD BX,1 

CMP SP,BP
JAE BITIR


;1(X,Y)
MOV CX, SP 
ADD CX,SI  
MOV DX, BP
ADD DX,DI  
CALL PUTPIXEL
CALL GETPIXEL


;8(-X,Y)
MOV AX,-1
MUL SP
ADD AX,SI 
MOV CX, AX 
MOV DX, BP
ADD DX,DI  
CALL PUTPIXEL
CALL GETPIXEL

JMP XX1


BITIR:    
INT 20H

SAYAC DW 0
X_COOR DW 140
Y_COOR DW 80

RET

PUTPIXEL PROC
    
MOV AL, 15  ; BEYAZ
MOV AH, 0CH ; WRITE PIXEL
INT 10H 
    
RET    
PUTPIXEL ENDP
HLT


GETPIXEL PROC
    
XOR AL, AL  ; AL = 0

MOV CX, 10  ; COLUMN
MOV DX, 20  ; ROW
MOV AH, 0DH ; GET PIXEL
INT 10H
    
RET    
GETPIXEL ENDP
HLT